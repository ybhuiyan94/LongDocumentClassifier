Wells Fargo & Co (NYSE: WFC) kicked off 2018 on a high note, reporting first-quarter earnings that topped Wall Street's expectations. Large U.S. banks are in the middle of the best operating environment they have experienced since before the financial crisis in 2008, and Wells Fargo's numbers suggest the bank is taking advantage.Wells Fargo stock initially traded lower by 1.3 percent on Friday morning after the bank reported adjusted earnings per share of $1.12 on revenue of $21.93 billion. Wall Street analysts had been expecting EPS of $1.06 on revenue of $21.73 billion.[See: 7 of the Best Stocks to Buy for 2018.]Wells Fargo reported net interest income of $12.2 billion, down $75 billion from the fourth quarter. The company said two fewer business days in the first quarter was partly to blame for the decline.Net interest margin, a key metric for measuring a bank's core business, was 2.84 percent, in-line with its fourth-quarter level after falling from 2.87 percent in the third quarter of 2017. Analysts had expected a slight uptick in net interest margin in the first quarter.Wells Fargo reported capital return of $4 billion on the quarter via dividends and stock buybacks. Buybacks were up 78 percent year-over-year, and total capital return was up 30 percent.Wells Fargo reported average deposits of $1.3 trillion, down $2 billion from a year ago. Average loans of $951 billion were also down $12.6 billion. Back in February, the Federal Reserve hit Wells Fargo with sanctions restricting it from expanding its total assets until it has implemented satisfactory risk controls.Wells Fargo also warned investors that its preliminary first-quarter results could also change depending on the outcome of pending settlement talks with regulators related to improper sales of auto insurance and mortgage products. Those settlements could cost the company in the neighborhood of $1 billion."I'm confident that our outstanding team will continue to transform Wells Fargo into a better, stronger company; however, we recognize that it will take time to put all of our challenges behind us," CEO Tim Sloan says in a statement.Morningstar analyst Jim Sinegal says Wells Fargo investors simply need to be patient.[See: 7 of the Best Bank Stocks to Buy for 2018.]"We believe that another year in the penalty box will further damage the Wells Fargo brand," Sinegal says. "That said, we still believe the bank will be able to recover."Morningstar has an "undervalued" rating and $65 fair value estimate for WFC stock.